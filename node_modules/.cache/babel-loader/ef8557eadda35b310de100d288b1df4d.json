{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/block/PhpstormProjects/reactrxServer/src/components/Card/Card.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { movieService } from \"./stream\";\n/**\nИнтерфейс карточки\n */\n\n/**\n Компонент карточки\n */\nconst Card = props => {\n  _s();\n\n  /**\n   Некий стейт для отрисовки компонента\n   */\n  const [titleValue, setTitleValue] = useState(props.item.title);\n  const [rateValue, setRateValue] = useState(props.item.rate.toString());\n  const [edit, setEdit] = useState(false);\n  /**\n   В этом методе мы при помощи колбека setMovie отправляем новые данные в обработку стрима,  и делаем пост запрос на сервер чтобы изменить элемент\n   */\n\n  const saveMovieRequest = async () => {\n    let newMovie = {\n      id: props.item.id,\n      rate: Number(rateValue),\n      title: titleValue,\n      image: props.item.image\n    };\n    movieService.storeMovie(newMovie);\n    setEdit(!edit);\n  };\n  /**\n   Рендер карточки\n   */\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 10,\n      display: \"flex\",\n      flexFlow: \"column\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\"Title: \", props.item.title]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: [\"Rate: \", props.item.rate]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      style: {\n        width: 300,\n        height: '100%'\n      },\n      src: props.item.image,\n      alt: props.item.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), !edit && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setEdit(!edit),\n      children: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 23\n    }, this), edit && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Title:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: titleValue,\n        onChange: event => setTitleValue(event.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Rate:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        value: rateValue,\n        onChange: event => setRateValue(event.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: saveMovieRequest,\n        children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Card, \"eRrZJwzY1lKP8lcrRhUeJFY4pGk=\");\n\n_c = Card;\nexport default Card;\n\nvar _c;\n\n$RefreshReg$(_c, \"Card\");","map":{"version":3,"sources":["/Users/block/PhpstormProjects/reactrxServer/src/components/Card/Card.tsx"],"names":["React","useState","movieService","Card","props","titleValue","setTitleValue","item","title","rateValue","setRateValue","rate","toString","edit","setEdit","saveMovieRequest","newMovie","id","Number","image","storeMovie","padding","display","flexFlow","width","height","event","target","value"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AAGA,SAAQC,YAAR,QAA2B,UAA3B;AAEA;AACA;AACA;;AAKA;AACA;AACA;AACA,MAAMC,IAAI,GAAIC,KAAD,IAAsB;AAAA;;AAE/B;AACJ;AACA;AACI,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BL,QAAQ,CAAEG,KAAK,CAACG,IAAN,CAAWC,KAAb,CAA5C;AACA,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BT,QAAQ,CAACG,KAAK,CAACG,IAAN,CAAWI,IAAX,CAAgBC,QAAhB,EAAD,CAA1C;AACA,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBb,QAAQ,CAAC,KAAD,CAAhC;AAEA;AACJ;AACA;;AACI,QAAMc,gBAAgB,GAAG,YAAY;AACjC,QAAIC,QAAQ,GAAG;AACXC,MAAAA,EAAE,EAAEb,KAAK,CAACG,IAAN,CAAWU,EADJ;AAEXN,MAAAA,IAAI,EAAEO,MAAM,CAACT,SAAD,CAFD;AAGXD,MAAAA,KAAK,EAAEH,UAHI;AAIXc,MAAAA,KAAK,EAAEf,KAAK,CAACG,IAAN,CAAWY;AAJP,KAAf;AAMAjB,IAAAA,YAAY,CAACkB,UAAb,CAAwBJ,QAAxB;AACAF,IAAAA,OAAO,CAAC,CAACD,IAAF,CAAP;AACH,GATD;AAWA;AACJ;AACA;;;AACI,sBACI;AAAK,IAAA,KAAK,EAAE;AAACQ,MAAAA,OAAO,EAAE,EAAV;AAAcC,MAAAA,OAAO,EAAE,MAAvB;AAA+BC,MAAAA,QAAQ,EAAE;AAAzC,KAAZ;AAAA,4BACI;AAAA,4BAAYnB,KAAK,CAACG,IAAN,CAAWC,KAAvB;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI;AAAA,2BAAWJ,KAAK,CAACG,IAAN,CAAWI,IAAtB;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ,eAGI;AAAK,MAAA,KAAK,EAAE;AAACa,QAAAA,KAAK,EAAE,GAAR;AAAYC,QAAAA,MAAM,EAAC;AAAnB,OAAZ;AAAwC,MAAA,GAAG,EAAErB,KAAK,CAACG,IAAN,CAAWY,KAAxD;AAA+D,MAAA,GAAG,EAAEf,KAAK,CAACG,IAAN,CAAWC;AAA/E;AAAA;AAAA;AAAA;AAAA,YAHJ,EAIK,CAACK,IAAD,iBAAS;AAAQ,MAAA,OAAO,EAAE,MAAMC,OAAO,CAAC,CAACD,IAAF,CAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAJd,EAKKA,IAAI,iBAAI;AAAA,8BACL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADK,eAEL;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,KAAK,EAAER,UAA1B;AAAsC,QAAA,QAAQ,EAAEqB,KAAK,IAAIpB,aAAa,CAACoB,KAAK,CAACC,MAAN,CAAaC,KAAd;AAAtE;AAAA;AAAA;AAAA;AAAA,cAFK,eAGL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHK,eAIL;AAAO,QAAA,IAAI,EAAC,QAAZ;AAAqB,QAAA,KAAK,EAAEnB,SAA5B;AAAuC,QAAA,QAAQ,EAAEiB,KAAK,IAAIhB,YAAY,CAACgB,KAAK,CAACC,MAAN,CAAaC,KAAd;AAAtE;AAAA;AAAA;AAAA;AAAA,cAJK,eAKL;AAAQ,QAAA,OAAO,EAAEb,gBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cALK;AAAA,oBALb;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAeH,CAzCD;;GAAMZ,I;;KAAAA,I;AA2CN,eAAeA,IAAf","sourcesContent":["import React, {useState} from \"react\";\nimport {Movie} from \"../../interfaces\";\nimport axios from \"axios\";\nimport {movieService} from \"./stream\";\n\n/**\nИнтерфейс карточки\n */\ninterface CardProps {\n    item: Movie\n}\n\n/**\n Компонент карточки\n */\nconst Card = (props: CardProps) => {\n\n    /**\n     Некий стейт для отрисовки компонента\n     */\n    const [titleValue, setTitleValue] = useState( props.item.title);\n    const [rateValue, setRateValue] = useState(props.item.rate.toString());\n    const [edit, setEdit] = useState(false);\n\n    /**\n     В этом методе мы при помощи колбека setMovie отправляем новые данные в обработку стрима,  и делаем пост запрос на сервер чтобы изменить элемент\n     */\n    const saveMovieRequest = async () => {\n        let newMovie = {\n            id: props.item.id,\n            rate: Number(rateValue),\n            title: titleValue,\n            image: props.item.image,\n        };\n        movieService.storeMovie(newMovie);\n        setEdit(!edit);\n    };\n\n    /**\n     Рендер карточки\n     */\n    return (\n        <div style={{padding: 10, display: \"flex\", flexFlow: \"column\"}}>\n            <h1>Title: {props.item.title}</h1>\n            <h3>Rate: {props.item.rate}</h3>\n            <img style={{width: 300,height:'100%'}} src={props.item.image} alt={props.item.title}/>\n            {!edit && <button onClick={() => setEdit(!edit)}>Редактировать</button>}\n            {edit && <>\n                <div>Title:</div>\n                <input type=\"text\" value={titleValue} onChange={event => setTitleValue(event.target.value)}/>\n                <div>Rate:</div>\n                <input type=\"number\" value={rateValue} onChange={event => setRateValue(event.target.value)}/>\n                <button onClick={saveMovieRequest}>Сохранить</button>\n            </>}\n        </div>\n    );\n};\n\nexport default Card;\n\n"]},"metadata":{},"sourceType":"module"}